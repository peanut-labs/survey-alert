(function(){var n,t,e=function(n,t){return function(){return n.apply(t,arguments)}};t=function(){function n(){}return n.extend=function(n,t){var e;for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},n}(),n=function(){function n(){this.handleAlert=e(this.handleAlert,this)}var r,i,o,a;return o="PL_Alert",r="/publisher/api/v1/campaigns_summary",i={server:"//api.peanutlabs.com",alertWidth:450,positionVertical:"bottom",positionHorizontal:"right",hideAfter:10,debugEnabled:!1,iframeURL:"",currencyName:"Points",logoURL:"//d1dawe8abjllt1.cloudfront.net/PL_Logo.png"},a='#PL_Alert {\n background-color: rgba(237,239,242,.70);\n -webkit-border-radius: 4px;\n -webkit-box-shadow: 0 2px 5px rgba(0,0,0,.1), inset 0 -1px 0 rgba(255,255,255,.15), 0 0 6px rgba(0,0,0,.08), 0 0 0 1px rgba(35,47,64,.5);\n background-image: -webkit-linear-gradient(90deg, rgba(218,223,230,.45) 0%, rgba(218,223,230,0) 100%);\n color: rgba(67,76,89,.9);\n text-shadow: 0 1px 0 rgba(255,255,255,.85);\n font: 12px/1.5 "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", "DejaVu Sans", Verdana, sans-serif;\n position: absolute;\n overflow:hidden;\n}\n\n#PL_Alert > div {\n border: none;\n background-color: rgba(255,255,255,.15);\n -webkit-border-radius: 4px;\n -webkit-box-shadow: inset 0 1px 0 rgba(255,255,255,.55);\n background: -webkit-linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,.75) 100%);\n height: 100%;\n width:100%;\n display: table;\n}\n\n#PL_Alert >div >div {\n border: none;\n background-color: rgba(255,255,255,.15);\n -webkit-border-radius: 4px;\n -webkit-box-shadow: inset 0 -3px 2px rgba(58,71,89,.04);\n overflow: hidden;\n position: relative;\n display: table-row;\n}\n\n#PL_Alert :hover {\n border-color: rgba(0,0,0,1);\n background-color: rgba(237,239,242,1);\n cursor:pointer;\n}\n\n#PL_Alert_icon {\n padding: 15px;\n display: table-cell;\n vertical-align: top;\n text-align: center;\n min-width: 48px;\n width: auto;\n min-height: 100%;\n height: 100%;\n border-bottom-left-radius: 4px;\n border-bottom-right-radius: 0;\n border-top-left-radius: 4px;\n border-top-right-radius: 0px;\n background-repeat: no-repeat;\n background-position: center center;\n background-color: rgba(26,57,102,.05);\n -webkit-box-shadow: 1px 0 0 rgba(255,255,255,.35), inset -1px 0 0 rgba(58,71,89,.1);\n background-image: none !important;\n}\n\n#PL_Alert_icon img {\n min-width: 48px;\n min-height: 48px;\n max-width: 256px;\n max-height: 256px;\n vertical-align: top;\n margin: 0;\n padding: 0;\n float: left;\n border-radius: 3px;\n}\n\n#PL_Alert_content {\n display: table-cell;\n vertical-align: top;\n padding: 10px 15px;\n}\n\n#Peanut_id_hide {\n position: absolute;\n right:8px;\n top:6px;\n font-size: 12px;\n z-index: 999;\n display: none;\n opacity: 0.8;\n}\n\n#PL_Alert:hover #Peanut_id_hide{\n display: block;\n}\n\n#PL_Alert_content_title {\n color: rgba(67,76,89,.9);\n font-size: 12px;\n margin: 5px 0 0 0px;\n}\n\nPL_Alert_content_body {\n margin: 5px 10px 5px 0px;\n}\n\n#PL_Alert a, #PL_Alert a:active{\n background: none;\n font-weight: bold;\n color:rgba(67,76,89,.9);\n text-decoration:none;\n}\n\n#PL_Alert a:hover{\n background: none;\n color:rgba(0,0,0,0.81);\n text-decoration:none;\n}',n.prototype.initialize=function(n){return n||(n={}),this.ops=this.options=t.extend(i,n),this.validated()?this.sendRequest():void 0},n.prototype.validated=function(){return this.ops.userId.indexOf("-")>=0?this.ops.iframeURL.indexOf("http")>=0?!0:(this.printDebug("Invalid Parameter: iframeURL"),!1):(this.printDebug("Invalid Parameter: userId"),!1)},n.prototype.sendRequest=function(){var n,t;return t=document.createElement("script"),t.src=this.getAPIUrl(),n=document.getElementsByTagName("head")[0],n.appendChild(t)},n.prototype.getAPIUrl=function(){return""+this.ops.server+r+"?user_id="+this.ops.userId+"&jsonp=PeanutLabsAlert.handleAlert"},n.prototype.canShowAlert=function(n){return"profiled"===n.surveys.status&&n.surveys.count>0||"profiler_available"===n.surveys.status},n.prototype.handleAlert=function(n){return n.surveys||(n.surveys={}),this.canShowAlert(n)?(this.response=n,this.showAlert()):!1},n.prototype.getContent=function(){var n,t;return n={},n="profiled"===this.response.surveys.status?{title:"You have surveys waiting for you!",body:"You qualify for "+this.response.surveys.count+" survey"+(null!=(t=this.response.surveys.count>1?"s":void 0)?t:"")+". Earn up to "+this.response.surveys.total_reward+" "+this.options.currencyName+"!",footer:""}:{title:"Profile and earn!",body:"Earn Mo money"}},n.prototype.showAlert=function(){var n,t,e;return e=document.createElement("style"),e.innerHTML=a,document.getElementsByTagName("head")[0].appendChild(e),t=document.createElement("div"),t.id=o,t.style.zIndex=1e5,t.style.position="fixed",t.style.padding="0px",t.style.paddingLeft="0px",t.style.paddingTop="0px",t.style.width=""+this.ops.alertWidth+"px",t.style[this.ops.positionVertical]=25,t.style[this.ops.positionHorizontal]=25,t.onmouseover=function(n){return function(){return clearTimeout(n.hideTimer)}}(this),t.onmouseout=function(n){return function(){return n.scheduleHideAlert()}}(this),n=this.getContent(),t.innerHTML=this.alertTplNew(n.title,n.body,n.footer),document.getElementsByTagName("body")[0].appendChild(t),t.className="notification",document.getElementById("Peanut_id_hide").onclick=function(n){return function(){return n.hideAlert()}}(this),this.slideDistance=-1*t.clientHeight,this.animateIn(t,this.slideDistance,25,function(n){return function(){return n.scheduleHideAlert()}}(this))},n.prototype.animate=function(n,t,e,r,i){var o;return"in"===r&&t>=e||"out"===r&&e>=t?void(i&&i()):(n.style[this.ops.positionVertical]=""+t+"px",o="in"===r?t+25:t-25,setTimeout(function(t){return function(){return t.animate(n,o,e,r,i)}}(this),25))},n.prototype.animateIn=function(n,t,e,r){return this.animate(n,t,e,"in",r)},n.prototype.animateOut=function(n,t,e,r){return this.animate(n,t,e,"out",r)},n.prototype.scheduleHideAlert=function(){return this.hideTimer=setTimeout(function(n){return function(){return n.hideAlert()}}(this),1e3*this.ops.hideAfter)},n.prototype.hideAlert=function(){var n;return clearTimeout(this.hideTimer),n=this.getAlertElement(),this.animateOut(n,0,this.slideDistance,function(){return function(){return n.parentNode.removeChild(n)}}(this))},n.prototype.getAlertElement=function(){return document.getElementById(o)},n.prototype.alertTplNew=function(n,t){var e;return e='<a class="close" href="javascript: void(0);" id="Peanut_id_hide">&times;</a>\n<div>\n  <div>\n  	<span id="PL_Alert_icon"> <img width="128" alt="icon" src="'+this.ops.logoURL+'"></span>\n    	<div id="PL_Alert_content">\n        <h1 id="PL_Alert_content_title">'+n+'</h1>\n        <p id="PL_Alert_content_body">'+t+' <a href="'+this.ops.iframeURL+'">Click here</a></p>\n      </div>\n  </div>\n</div>'},n.prototype.printDebug=function(n){return this.ops.debugEnabled?console.log("Debug Msg: "+n):void 0},n}(),window.PeanutLabsAlert=new n}).call(this);