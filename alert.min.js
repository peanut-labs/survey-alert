(function(){var e,t,n=function(e,t){return function(){return e.apply(t,arguments)}};t=function(){function e(){}e.extend=function(e,t){var n;for(n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}return e};return e}();e=function(){function s(){this.handleAlert=n(this.handleAlert,this)}var e,r,i;i="PL_Alert";e="/publisher/api/v1/campaigns_summary";r={server:"http://monetization-api.com",alertWidth:359,positionVertical:"bottom",positionHorizontal:"right",colorBg:"333333",colorFg:"ffffff",colorBorder:"000000",colorLink:"ffffff",hideAfter:15,debugEnabled:false,iframeURL:""};s.prototype.initialize=function(e){e||(e={});this.ops=this.options=t.extend(r,e);if(this.validated()){return this.sendRequest()}};s.prototype.validated=function(){if(!(this.ops.userId.indexOf("-")>=0)){this.printDebug("Invalid Parameter: userId");return false}if(!(this.ops.iframeURL.indexOf("http")>=0)){this.printDebug("Invalid Parameter: iframeURL");return false}return true};s.prototype.sendRequest=function(){var e,t;t=document.createElement("script");t.src=this.getAPIUrl();e=document.getElementsByTagName("head")[0];return e.appendChild(t)};s.prototype.getAPIUrl=function(){return""+this.options.server+e+"?user_id="+this.options.userId+"&jsonp=PeanutLabsAlert.handleAlert"};s.prototype.canShowAlert=function(e){return e.surveys.status==="profiled"&&e.surveys.count>0||e.surveys.status==="profiler_available"};s.prototype.handleAlert=function(e){e.surveys||(e.surveys={});this.response=e;return this.showAlert()};s.prototype.getContent=function(){var e;e={};if(this.response.surveys.status==="profiled"){e={title:"You have surveys waiting for you.",body:"You qualify for "+this.response.surveys.count+" surveys. Earn up to "+this.response.surveys.total_reward+" "+this.response.surveys.currency_name+"!",footer:""}}else{e={title:"Profile and earn!",body:"Earn Mo money"}}return e};s.prototype.showAlert=function(){var e,t;t=document.createElement("div");t.id=i;t.style.zIndex=1e5;t.style.position="fixed";t.style.padding="0px";t.style.paddingLeft="10px";t.style.paddingTop="0px";t.style.width=""+this.ops.alertWidth+"px";t.style[this.ops.positionVertical]=0;t.style[this.ops.positionHorizontal]=0;e=this.getContent();t.innerHTML=this.alertTpl(e.title,e.body,e.footer);document.getElementsByTagName("body")[0].appendChild(t);document.getElementById("Peanut_id_hide").onclick=function(e){return function(){return e.hideAlert()}}(this);this.hidden=false;return this.animateIn(t,-1*this.ops.alertWidth,10,function(e){return function(){return e.scheduleHideAlert()}}(this))};s.prototype.animate=function(e,t,n,r,i){var s;if(r==="in"&&t>=n||r==="out"&&n>=t){if(i){i()}return}e.style[this.ops.positionHorizontal]=""+t+"px";if(r==="in"){s=t+25}else{s=t-25}return setTimeout(function(t){return function(){return t.animate(e,s,n,r,i)}}(this),25)};s.prototype.animateIn=function(e,t,n,r){return this.animate(e,t,n,"in",r)};s.prototype.animateOut=function(e,t,n,r){return this.animate(e,t,n,"out",r)};s.prototype.scheduleHideAlert=function(){return this.hideTimer=setTimeout(function(e){return function(){return e.hideAlert()}}(this),this.ops.hideAfter*1e3)};s.prototype.hideAlert=function(){var e;clearTimeout(this.hideTimer);e=this.getAlertElement();return this.animateOut(e,0,-400,function(t){return function(){return e.parentNode.removeChild(e)}}(this))};s.prototype.getAlertElement=function(){return document.getElementById(i)};s.prototype.alertTpl=function(e,t,n){var r;return r='<div style="z-index:1000; float:right; display:block; width:350px; background:#'+this.ops.colorBg+"; border:4px solid#"+this.ops.colorBorder+'; font-family:Verdana, Geneva, sans-serif; font-size:13px; padding:0px;">\n  <div style=" padding-left:5px; padding-right:5px; padding-top:2px; padding-bottom:7px; width:343px; float:left; background-color:#'+this.ops.colorBorder+';">\n    <div id="Title_container" style="float:left;">\n      <a style="text-decoration:none; color:#'+this.ops.colorFg+';" target="_blank" href="'+this.ops.iframeURL+'">\n        <b>'+e+'</b>\n      </a>\n    </div>\n    <div style="float:right;">\n      <div style="float:right; width:17px">\n        <b>\n          <a style="text-decoration: none; color:#'+this.ops.colorFg+';" id="Peanut_id_hide" href="javascript: void(0);">\n              &nbsp;X&nbsp;&nbsp;&nbsp;\n          </a>\n        </b>\n      </div>\n    </div>\n  </div>\n  <div style=" border:0px solid#'+this.ops.colorBorder+"; font-size:16px; background-color:#"+this.ops.colorBg+'; float:right; padding:10px; width:330px;">\n    <div style="padding-right:10px; background-color:#'+this.ops.colorBg+'; float:left;">\n      <a style="text-decoration:none; color:#'+this.ops.colorBg+';" class="go" href="#">\n      </a>\n    </div>\n    <a id="Body_container" style="text-decoration: none; color:#'+this.ops.colorLink+';" target="_blank" href="'+this.ops.iframeURL+'">\n     '+t+"\n    </a>\n    <div style=\"float:left; font-size:10px; font-weight:bold; color:#'+peanut.c.color_font+'\">\n     "+n+"\n    </div>\n  </div>\n</div>"};s.prototype.printDebug=function(e){if(!this.ops.debugEnabled){return}return console.log("Debug Msg: "+e)};return s}();window.PeanutLabsAlert=new e}).call(this)